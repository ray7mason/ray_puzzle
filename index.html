<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewpoint" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>
    <link rel="stylesheet" href="./static/css/mine.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    <style>
        /* Disable text selection for body but allow it for inputs */
        body {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        input, textarea {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
    </style>
</head>
<body>
    <!-- Puzzle Game Section -->
    <div class="ui container" style="margin-top: 40px;">
        <h1 class="ui header" style="text-align:center;">Puzzles for folks in Seattle</h1>
        
        <!-- Puzzle 1 -->
        <div id="puzzle1" class="ui segment" style="max-width: 500px; margin: 0 auto;">
            <div class="ui large header" style="text-align:center; margin-bottom: 20px;">一笔静绿，中心留墨</div>
            <form id="puzzle1-form" class="ui form">
                <div class="fields" style="justify-content:center;">
                    <div class="field"><input type="text" maxlength="1" required></div>
                    <div class="field"><input type="text" maxlength="1" required></div>
                    <div class="field"><input type="text" maxlength="1" required></div>
                    <div class="field"><input type="text" maxlength="1" required></div>
                </div>
                <button class="ui primary button" type="submit" style="width:100%; margin-top: 15px;">Submit</button>
            </form>
            <div id="puzzle1-message" class="ui message" style="display:none; margin-top: 15px;"></div>
        </div>

        <!-- Puzzle 2 (initially hidden) -->
        <div id="puzzle2" class="ui segment" style="max-width: 500px; margin: 0 auto; display: none;">
            <div class="ui large header" style="text-align:center; margin-bottom: 20px;">四位旧识</div>
            <div class="ui medium header" style="text-align:center; margin-bottom: 20px; font-size: 1.2em;">
                Madrona 与 Magnolia 对望；<br>
                Coe 向 Jefferson 静静走近。<br>
                不曾言语，却也重逢。
            </div>
            <form id="puzzle2-form" class="ui form">
                <div class="field">
                    <input type="text" placeholder="Enter your answer" required>
                </div>
                <button class="ui primary button" type="submit" style="width:100%; margin-top: 15px;">Submit</button>
            </form>
            <div id="puzzle2-message" class="ui message" style="display:none; margin-top: 15px;"></div>
        </div>

        <!-- Puzzle 3 (initially hidden) -->
        <div id="puzzle3" class="ui segment" style="max-width: 500px; margin: 0 auto; display: none;">
            <div class="ui large header" style="text-align:center; margin-bottom: 20px;">Puzzle 3</div>
            <div class="ui medium header" style="text-align:center; margin-bottom: 20px; font-size: 1.2em;">
                July lights up with <strong>Firework</strong>,<br>
                September hums to the sound of <strong>Numb</strong>.<br>
                A single word still unlocks the past.
            </div>
            <form id="puzzle3-form" class="ui form">
                <div class="field">
                    <input type="text" placeholder="Enter your answer" required>
                </div>
                <button class="ui primary button" type="submit" style="width:100%; margin-top: 15px;">Submit</button>
            </form>
            <div id="puzzle3-message" class="ui message" style="display:none; margin-top: 15px;"></div>
        </div>
    </div>

    <script>
    // Anti-debugging techniques
    (function() {
        // Disable F12, Ctrl+Shift+I, Ctrl+U
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12' || 
                (e.ctrlKey && e.shiftKey && e.key === 'I') ||
                (e.ctrlKey && e.key === 'u')) {
                e.preventDefault();
                return false;
            }
        });

        // Disable right-click
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });

        // Console warning
        console.log('%cStop!', 'color: red; font-size: 50px; font-weight: bold;');
        console.log('%cThis is a puzzle game. Cheating ruins the fun!', 'color: red; font-size: 20px;');
        
        // Detect dev tools
        let devtools = {open: false, orientation: null};
        setInterval(() => {
            const threshold = 160;
            if (window.outerHeight - window.innerHeight > threshold || 
                window.outerWidth - window.innerWidth > threshold) {
                if (!devtools.open) {
                    devtools.open = true;
                    console.log('%cDev tools detected! Please close them to continue.', 'color: red; font-size: 20px;');
                }
            } else {
                devtools.open = false;
            }
        }, 500);
    })();

    // Obfuscated answers using simple encoding
    const _0x4f2a = ['d', 'u', 'c', 'k'];
    const _0x7b3c = ['s', 'p', 'a', 'c', 'e', 'n', 'e', 'e', 'd', 'l', 'e'];
    const _0x9d4e = ['k', 'e', 'y'];
    
    function _0x2e1f(arr) { return arr.join(''); }
    
    // Puzzle 1 handler
    document.getElementById('puzzle1-form').addEventListener('submit', function(e) {
        e.preventDefault();
        const inputs = Array.from(this.querySelectorAll('input'));
        const answer = inputs.map(input => input.value).join('').toLowerCase();
        const messageDiv = document.getElementById('puzzle1-message');
        
        if (answer === _0x2e1f(_0x4f2a)) {
            messageDiv.className = 'ui positive message';
            messageDiv.textContent = 'Correct! 🦆 You solved the puzzle!';
            messageDiv.style.display = 'block';
            
            // Show puzzle 2 after a short delay
            setTimeout(() => {
                document.getElementById('puzzle1').style.display = 'none';
                document.getElementById('puzzle2').style.display = 'block';
            }, 2000);
        } else {
            messageDiv.className = 'ui negative message';
            messageDiv.textContent = 'Incorrect. Try again.';
            messageDiv.style.display = 'block';
        }
    });

    // Puzzle 2 handler
    document.getElementById('puzzle2-form').addEventListener('submit', function(e) {
        e.preventDefault();
        const input = this.querySelector('input');
        const answer = input.value.toLowerCase().replace(/\s/g, '');
        const messageDiv = document.getElementById('puzzle2-message');
        
        if (answer === _0x2e1f(_0x7b3c)) {
            messageDiv.className = 'ui positive message';
            messageDiv.textContent = 'Excellent! 🗼 You solved the second puzzle!';
            messageDiv.style.display = 'block';
            
            // Show puzzle 3 after a short delay
            setTimeout(() => {
                document.getElementById('puzzle2').style.display = 'none';
                document.getElementById('puzzle3').style.display = 'block';
            }, 2000);
        } else {
            messageDiv.className = 'ui negative message';
            messageDiv.textContent = 'Incorrect. Try again.';
            messageDiv.style.display = 'block';
        }
    });

    // Puzzle 3 handler
    document.getElementById('puzzle3-form').addEventListener('submit', function(e) {
        e.preventDefault();
        const input = this.querySelector('input');
        const answer = input.value.toLowerCase().replace(/\s/g, '');
        const messageDiv = document.getElementById('puzzle3-message');
        
        if (answer === _0x2e1f(_0x9d4e)) {
            messageDiv.className = 'ui positive message';
            messageDiv.textContent = 'Congratulations! 🔑 You solved all three puzzles!';
            messageDiv.style.display = 'block';
        } else {
            messageDiv.className = 'ui negative message';
            messageDiv.textContent = 'Incorrect. Try again.';
            messageDiv.style.display = 'block';
        }
    });
    </script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
</body>
</html>